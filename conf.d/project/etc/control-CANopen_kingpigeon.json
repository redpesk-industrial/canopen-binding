{
  "$schema": "http://iot.bzh/download/public/schema/json/ctl-schema.json",
  "metadata": {
    "uid": "canopen-svc",
    "version": "1.0",
    "api": "canopen",
    "info": "Meta inforamtions"
  },
  "plugins": [
    {
      "uid": "Virtual-CANopen",
      "info": "Plugin to handle user custom registry encoding/decoding",
      "spath": "package/lib/:./lib/plugins:./var",
      "libs": [
        "kingpigeon.ctlso"
      ]
    }
  ], 
  "canopen":{
    "uid": "CANopen_Master",
    "info": "CANopen Master",
    "uri" : "can0",
    "nodId": 1,
    "dcf": "kp2-master.dcf",
    "slaves": [
      {
        "uid": "CANopen-slave-2",
        "info": "CANopen slave 2",
        "prefix": "slave2",
        "nodId": 2,
        "onconf": [
          {
            "info": "set analog input on onchange mode",
            "register": "0x180205",
            "size" : 2,
            "data": 0
          },
          {
            "info": "Turn off TPDO 01 sync",
            "register": "0x180005",
            "size" : 2,
            "data": 0
          }
        ],
        "sensors": [
          {
            "uid": "DIN01",
            "type": "RPDO",
            "format" : "kp_bool_din4",
            "register" : "0x620001"
          },
          {
            "uid": "DIN01_EVENT_TIMER",
            "type": "SDO",
            "format" : "uint16",
            "register" : "0x180005"
          },
          {
            "uid": "DOUT01",
            "type": "TPDO",
            "format" : "uint8",
            "register" : "0x600001"
          },
          {
            "uid": "AIN01",
            "type": "RPDO",
            "format" : "kp_int_ain2",
            "register" : "0x640101"
          },
          {
            "uid": "AIN02",
            "type": "RPDO",
            "format" : "kp_int_ain2",
            "register" : "0x640102"
          }
        ]
      }
    ]
  }
}